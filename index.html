<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <symbol id="i-bed" viewBox="0 0 24 24">
  <g fill="none" stroke="currentColor" stroke-width="1.5"
     stroke-linecap="round" stroke-linejoin="round">
    <!-- Bettrahmen -->
    <path d="M3 10v10M21 10v10"/>
    <path d="M3 16h18"/>
    <!-- Kopfkissen -->
    <!-- Matratze -->
    <path d="M9 13h12a0 0 0 0 1 0 0v3H9z"/>
  </g>
</symbol>

  <symbol id="i-sun" viewBox="0 0 24 24">
  <g fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="4"/>
    <path d="M12 2v2M12 20v2M4 12H2M22 12h-2M5 5l1.5 1.5M17.5 17.5L19 19M5 19l1.5-1.5M17.5 6.5L19 5"/>
  </g>
</symbol>
<symbol id="i-moon" viewBox="0 0 24 24">
  <g fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 12.8A9 9 0 1 1 11.2 3a7 7 0 0 0 9.8 9.8z"/>
  </g>
</symbol>
<symbol id="i-pencil" viewBox="0 0 24 24">
  <path d="M3 17.25V21h3.75L17.81 9.94a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0L3 17.25z"
        fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</symbol>
<symbol id="i-chevron" viewBox="0 0 24 24">
  <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
</symbol>
</svg>

<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval'"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" />
  <title>Deskday Proto</title>
</head>
<!-- ONBOARDING OVERLAYS -->
<!-- Step 1: Login Choice -->
<div id="onboardingLogin" class="onboarding onboarding-login hidden" aria-modal="true" role="dialog">
  <div class="onboarding-card">
    <h2 class="onboarding-title">Welcome to Deskday</h2>
    <p class="onboarding-text">Would you like to log in or continue locally?</p>
    <div class="onboarding-actions">
      <button id="onboardingLoginNow" class="onboarding-btn onboarding-btn-primary">Log in with Google</button>
      <button id="onboardingLoginLater" class="onboarding-btn onboarding-btn-secondary">Continue Locally</button>
    </div>
  </div>
</div>

<!-- Step 2: Theme Choice -->
<div id="onboardingTheme" class="onboarding onboarding-theme hidden" aria-modal="true" role="dialog">
  <div class="onboarding-card">
    <h2 class="onboarding-title">Choose Theme</h2>
    <p class="onboarding-text">Do you prefer light or dark mode?</p>
    <div class="onboarding-option">
      <div class="onboarding-toggle-group">
        <input type="radio" name="theme" id="onboardingThemeDark" value="dark" checked class="onboarding-toggle-radio">
        <label for="onboardingThemeDark" class="onboarding-toggle-label">Dark</label>
        <input type="radio" name="theme" id="onboardingThemeLight" value="light" class="onboarding-toggle-radio">
        <label for="onboardingThemeLight" class="onboarding-toggle-label">Light</label>
      </div>
    </div>
    <div class="onboarding-actions">
      <button id="onboardingThemeNext" class="onboarding-btn onboarding-btn-primary">Next</button>
    </div>
  </div>
</div>

<!-- Step 3: Autostart Choice -->
<div id="onboardingAutostart" class="onboarding onboarding-autostart hidden" aria-modal="true" role="dialog">
  <div class="onboarding-card">
    <h2 class="onboarding-title">Auto-start</h2>
    <p class="onboarding-text">Launch Deskday when you start your computer?</p>
    <div class="onboarding-actions">
      <button id="onboardingAutostartYes" class="onboarding-btn onboarding-btn-primary">Yes</button>
      <button id="onboardingAutostartNo" class="onboarding-btn onboarding-btn-secondary">No</button>
    </div>
  </div>
</div>

<!-- Step 4: Time Format Choice -->
<div id="onboardingFormat" class="onboarding onboarding-format hidden" aria-modal="true" role="dialog">
  <div class="onboarding-card">
    <h2 class="onboarding-title">Time Format</h2>
    <p class="onboarding-text">Which time format do you prefer?</p>
    <div class="onboarding-option">
      <div class="onboarding-toggle-group">
        <input type="radio" name="format" id="onboardingFormat24h" value="24h" checked class="onboarding-toggle-radio">
        <label for="onboardingFormat24h" class="onboarding-toggle-label">24h</label>
        <input type="radio" name="format" id="onboardingFormat12h" value="12h" class="onboarding-toggle-radio">
        <label for="onboardingFormat12h" class="onboarding-toggle-label">12h</label>
      </div>
    </div>
    <div class="onboarding-actions">
      <button id="onboardingFormatNext" class="onboarding-btn onboarding-btn-primary">Next</button>
    </div>
  </div>
</div>

<!--  STARTUP Start/Ende Editor (SEE0) -->
<div id="seeOverlay" class="see hidden" aria-modal="true" role="dialog">
  <div class="see-card">
    <button id="seeClose" class="see-close" aria-label="Close">‚úï</button>
    <h2 class="see-title">WAKE/ SLEEP</h2>

    <div class="see-row">
      <label class="see-label">
        <input id="seeStart" class="see-input" type="text" inputmode="numeric" placeholder="5" maxlength="2" aria-label="Wake hour (24h)"/>
        <span class="see-underline"></span>
      </label>
      <span class="see-sep"> till</span>
      <label class="see-label">
        <input id="seeEnd" class="see-input" type="text" inputmode="numeric" placeholder="22" maxlength="2" aria-label="Sleep hour (24h)"/>
        <span class="see-underline"></span>
      </label>
    </div>

    <p class="see-hint">DETERMINES START AND END TIME OF YOUR SCHEDULE<br/>(24 HOUR FORMAT)</p>

    <button id="seeBuild" class="see-btn" disabled>BUILD SCHEDULE</button>
  </div>
</div>
<!-- SETTINGS Overlay (SET) -->
<div id="setOverlay" class="set hidden" role="dialog" aria-modal="true" aria-labelledby="setTitle">
  <div class="set-card">
    <div class="set-header">
      <h2 id="setTitle" class="set-title">Settings</h2>
      <div class="set-header-buttons">
        <button id="cloudStatus" class="cloud-indicator" aria-label="Cloud status" title="Local mode">‚òÅÔ∏é</button>
        <button id="setClose" class="set-close">&#x2715</button>
      </div>
    </div>

    <div class="set-content">
      <div class="set-section">
        <div class="set-subtitle">UI</div>

        <div class="set-option">
          <span class="set-label">Theme</span>
          <div class="set-toggle-group">
            <input type="radio" name="set-theme" id="setThemeDark" value="dark" class="set-toggle-radio">
            <label for="setThemeDark" class="set-toggle-label">Dark</label>
            <input type="radio" name="set-theme" id="setThemeLight" value="light" class="set-toggle-radio">
            <label for="setThemeLight" class="set-toggle-label">Light</label>
          </div>
        </div>

        <div class="set-option">
          <span class="set-label">Time Format</span>
          <div class="set-toggle-group">
            <input type="radio" name="set-format" id="setFormat24h" value="24h" class="set-toggle-radio">
            <label for="setFormat24h" class="set-toggle-label">24h</label>
            <input type="radio" name="set-format" id="setFormat12h" value="12h" class="set-toggle-radio">
            <label for="setFormat12h" class="set-toggle-label">12h</label>
          </div>
        </div>
      </div>

      <div class="set-section">
        <div class="set-subtitle">System</div>

        <div class="set-option">
          <span class="set-label">Autostart</span>
          <input type="checkbox" id="setAuto" class="set-check">
        </div>

        <div class="set-option">
          <span class="set-label">Always on top</span>
          <input type="checkbox" id="setAOT" class="set-check">
        </div>
      </div>
    </div>

    <div class="set-footer">
      <div class="set-footer-top">
        <button id="setLogin" data-auth-login="1" class="set-btn">Log in</button>
      </div>
      <div class="set-version">
        <span id="appVersion" class="version-text">v0.7.0</span>
      </div>
      <div class="set-footer-links">
        <a href="mailto:wolfgang.anders45@gmail.com">Support</a>
        <span class="set-footer-divider">‚Ä¢</span>
        <a href="mailto:wolfgang.anders45@gmail.com">Impressum</a>
        <span class="set-footer-divider">‚Ä¢</span>
        <span class="set-byline">by Zenith</span>
      </div>
    </div>
  </div>
</div>
<body>
  <div id="windowClip">
    <div id="surface">
  <header class="topbar">
    <!-- hidden TTE Button - Indikator -->
    <button
          id="teiBtn"
          class="tei-btn hidden"
          type="button"
          aria-label="Exit Editor"
          aria-pressed="true"
          title="Exit Editor">
    </button>
<!-- hidden TTE Button -SET TIMETABLE -->
    <button
          id="stBtn"
          class="st-btn hidden"
          type="button"
          aria-label="setTime Editor"
          aria-pressed="false"
          title="SetTime Editor">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
    <use href="#i-bed"></use>
  </svg>
    </button>
  <!-- hidden Collapse all Empty -->
<button
  id="colEmpBtn"
  class="colEmp-btn hidden"
  type="button"
  aria-label="Zeilen einklappen/ausklappen"
  aria-expanded="false"              
  aria-controls="collapseTarget"
  title="Collapse/Expand">
  <svg width="20" height="20"><use href="#i-chevron"></use></svg>
</button>
<div class="title">
    <!-- Mitte: Day -->
     <div class="date-display">
      <span id="dayLabel" class="day"></span><span class="slash">/</span>
      <span id="dateLabel" class="date">Day</span>
    </div>
    <!-- Mitte: Datum -->
      <div class="date" id="dateLabel"></div>
  </div>
    
  <!-- Men√º -->
  <div class="options">
  <button id="optionsBtn"
        class="icon-btn"
        type="button"
        aria-haspopup="true"
        aria-expanded="false"
        title="Optionen">
  ‚ãÆ
</button>

    <div id="optionsMenu" class="options-menu hidden">
      <button id="opt-te"
          class="opt-item"
          data-om-item
          type="button"
          aria-label="Table Editor"
          aria-pressed="false"
          title="Table Editor">
      ‚úé
      </button>
        <button
        class="opt-item"
        id="opt-settings"
        data-om-item>
        ‚öôÔ∏é
      </button>
      <button
        class="opt-item"
        id="opt-min"
        data-om-item>
        _
      </button>
    </div>
  </div>

  </header>
  <div id="viewport"><div id="timetable"></div></div>
  <!-- SETTINGS Overlay (SET) -->
  <script type="module" src="renderer.js"></script>
  
  <div id="dragOverlay" class="drag-overlay hidden"></div>
  
  <!-- Loading Overlay (shown during auth restore) -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner">
      <div class="loading-rect-1"></div>
      <div class="loading-rect-2"></div>
    </div>
    <p class="loading-text">Loading...</p>
  </div>
  
  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container" role="region" aria-live="polite" aria-atomic="true"></div>

  <!-- Update Dialog -->
  <div id="updateDialog" class="update-dialog hidden" role="dialog" aria-modal="true" aria-labelledby="updateTitle">
    <div class="update-content">
      <h2 id="updateTitle">Update Available</h2>
      <p id="updateMessage">A new version of Deskday is available.</p>
      <div class="update-buttons">
        <button id="updateLaterBtn" class="btn btn-secondary">Later</button>
        <button id="updateNowBtn" class="btn btn-primary">Update Now</button>
      </div>
    </div>
  </div>

  <!-- Add Note Button (Bottom Right) -->
  <button id="addNoteBtn" class="add-note-btn" title="Open notes" aria-label="Add daily note">+</button>

  <!-- Notes Panel (Draggable & Resizable) - Outside main window -->
  <div id="notePanel" class="note-panel hidden">
    <div class="note-panel-header">
      <div class="note-panel-title">Daily Note</div>
      <div class="note-panel-controls">
        <button id="backToTodayBtn" class="note-btn note-back-btn" title="Back to today" style="display:none;">‚Üê</button>
        <button id="openArchiveBtn" class="note-btn note-archive-btn" title="View archive">üìã</button>
        <button id="closeArchiveBtn" class="note-btn note-close-archive-btn" title="Close archive" style="display:none;">‚úï</button>
      </div>
    </div>

    <!-- Edit View (Today's Note) -->
    <div id="noteEditView" class="note-edit-view">
      <textarea id="noteText" class="note-textarea" placeholder="Write your daily note here..."></textarea>
    </div>

    <!-- Archive View -->
    <div id="archiveView" class="note-archive-view" style="display:none;">
      <div id="archiveList" class="archive-list"></div>
    </div>

    <!-- Resize Handle -->
    <div class="note-panel-resize"></div>
  </div>
  
  </div>
  </div>
</body>
</html>
